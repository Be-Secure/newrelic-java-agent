jar {
    manifest {
        attributes 'Implementation-Title': 'com.newrelic.instrumentation.' + project.name
        attributes 'Implementation-Vendor': 'New Relic', 'Implementation-Version': 1.0
    }
}

dependencies {
    implementation(project(":agent-bridge"))
    implementation(project(":newrelic-api"))

    implementation("io.ratpack:ratpack-core:1.6.0")

    testImplementation("io.ratpack:ratpack-test:1.6.0")
    // This is needed to allow tests to run on JDK 11 (since java.activation was removed in JDK 11)
    testImplementation("com.sun.activation:javax.activation:1.2.0")

}

verifyInstrumentation {
    passesOnly 'io.ratpack:ratpack-core:[1.6.0,1.9.0)'

    excludeRegex 'io.ratpack:ratpack-core:0.9.*'
    excludeRegex '.*-RC[0-9]+$'
    excludeRegex '.*-rc-.*'
    excludeRegex '.*-milestone-.*'
}
