jar {
    manifest { attributes 'Implementation-Title': 'com.newrelic.instrumentation.ratpack-http-1.4.0' }
}

dependencies {
    implementation(project(":agent-bridge"))
    implementation(project(":newrelic-api"))

    implementation("io.ratpack:ratpack-core:1.4.5")

    testImplementation("io.ratpack:ratpack-test:1.4.5")
    // This is needed to allow tests to run on JDK 11 (since java.activation was removed in JDK 11)
    testImplementation("com.sun.activation:javax.activation:1.2.0")
}

verifyInstrumentation {
    passesOnly 'io.ratpack:ratpack-core:[1.0.0,)'

    excludeRegex 'io.ratpack:ratpack-core:0.9.*'
    excludeRegex '.*-rc-[0-9]+$'
    excludeRegex '.*-RC-[0-9]+$'
    excludeRegex '.*-milestone-.*'
}
